# About this file

This is where the data generated by the
web-app / server combo will be stored.

It will be based on JSON files,
nothing fancy here, and homemade.

**So please do NOT touch anything in this directory**
**unless you know what you are doing**.

The main purpose of this readme is to let me
gitignore this folder
but still have it created upon cloning.

Better than a .gitkeep no?

While I'm at it I'll document my
"storage engine" here as I write it.

# About the database itself

All file accesses are handled through the library
exposed by the `src/db.ts` file and
**nothing else**.

**General ideas** :

- all relevant methods are exposed by `src/db.ts`
- They usually return a `MaybeError` value if they don't throw.
  This is to distinguish easily between an error that was
  foreseen / expected (such as caused by user actions)
  and an error in my stupid code, which would result in
  an `Error` being thrown.
- use the exported `isError` method to check if the `MaybeError`
  type actually represents an error

## Storing projects and meta-info

- project meta-info is defined in a file
  called `projects.json`,
  it contains a pretty-printed JSON dictionary
  of project names to meta-info
  Currently meta-info consists of:
    - id
    - projectName
    - startURL
    - createdAt
- the `createProject` method is responsible for creating
  projects
- `createProject` accepts a single `params` argument of type
  `CreateProjectParams` and returns a promise for a `MaybeError`
  type, which is either a `string`, indicating an error,
  or `true`, indicating success, or an `object`, also
  also indicating success but returning useful data
  in the same go
- the `listProjects` method takes no argument at all and returns
  a list of all projects the db knows about